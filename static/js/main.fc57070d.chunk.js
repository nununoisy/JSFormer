(this.webpackJsonpjsformer=this.webpackJsonpjsformer||[]).push([[0],{24:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(14),i=a.n(r),s=(a(24),a(3)),o=a(8),l=a(19),u=a.p+"static/media/upload.fe063de6.svg",j=a(0);function d(e){var t=e.onChange,a=c.a.useCallback((function(e){e&&e.length>0&&t&&t(window.URL.createObjectURL(e[0]))}),[t]),n=Object(l.a)({onDrop:a,accept:"image/*",maxFiles:1}),r=n.getRootProps,i=n.getInputProps,s=n.isDragActive;return Object(j.jsxs)("div",Object(o.a)(Object(o.a)({},r()),{},{className:"uploadContainer",children:[Object(j.jsx)("input",Object(o.a)({},i())),Object(j.jsxs)("div",{className:"uploadDisplayContainer",children:[Object(j.jsx)("img",{src:u}),s?Object(j.jsx)("p",{children:"Drop the image here!"}):Object(j.jsx)("p",{children:"Drag an image here or click to select..."})]})]}))}var b=a(10),h=a.n(b),p=a(16),O=a(7);function g(){return new Worker(a.p+"static/js/Worker.dfef9181.worker.js")}var x=a(17);function m(e){var t=e.palette;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{effect:"solid"}),Object(j.jsx)("div",{className:"paletteGrid".concat(2===t.length?" paletteGrid2Color":""),children:t.map((function(e,t){return Object(j.jsx)("div",{className:"paletteGridItem",style:{backgroundColor:"#".concat(e)},"data-tip":"Color #".concat(t,": #").concat(e)})}))})]})}function v(e){var t=e.imageURL,a=e.onChange,n=c.a.useState(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],l=c.a.useState(8),u=Object(s.a)(l,2),d=u[0],b=u[1],x=c.a.useState(!1),v=Object(s.a)(x,2),f=v[0],S=v[1],C=c.a.useState("FloydSteinberg"),k=Object(s.a)(C,2),w=k[0],I=k[1],y=c.a.useState(16),N=Object(s.a)(y,2),F=N[0],L=N[1],R=c.a.useState(16),D=Object(s.a)(R,2),U=D[0],G=D[1],M=c.a.useState([]),T=Object(s.a)(M,2),P=T[0],A=T[1],E=c.a.useState(null),J=Object(s.a)(E,2),B=J[0],_=J[1],H=c.a.useRef(null);return c.a.useEffect((function(){o(!0);var e=new g,n=O.a(e).ReformImage,c=new Image;return c.onload=Object(p.a)(h.a.mark((function e(){var t,r,i,s,l,u,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H||!H.current){e.next=17;break}return(t=H.current).height=c.height,t.width=c.width,(r=t.getContext("2d")).drawImage(c,0,0),e.next=8,n(r.getImageData(0,0,c.width,c.height),parseInt(d,10),f?w:null,F,U);case 8:i=e.sent,s=i.palette,l=i.outputImageDataURL,u=i.paletteList,j=i.imageData,A(s),_(l),a&&a({palette:u,imageData:j,w:U,h:F,colorDepth:d}),o(!1);case 17:case"end":return e.stop()}}),e)}))),c.src=t,function(){e.terminate()}}),[t,d,w,f,F,U]),Object(j.jsxs)("div",{className:"reformer",children:[Object(j.jsxs)("label",{children:["Image output size:",Object(j.jsx)("input",{type:"number",value:U,onChange:function(e){return G(parseInt(e.target.value,10))},className:"dimensionInput"}),"x",Object(j.jsx)("input",{type:"number",value:F,onChange:function(e){return L(parseInt(e.target.value,10))},className:"dimensionInput"})]}),Object(j.jsxs)("label",{children:["Color depth:",Object(j.jsxs)("select",{value:d,onChange:function(e){return b(e.target.value)},className:"bitdepthInput",children:[Object(j.jsx)("option",{value:1,children:"2 colors (1bpp)"}),Object(j.jsx)("option",{value:4,children:"16 colors (4bpp)"}),Object(j.jsx)("option",{value:8,children:"256 colors (8bpp)"})]})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",checked:f,onChange:function(e){return S(e.target.checked)}}),"Use",Object(j.jsxs)("select",{value:w,onChange:function(e){return I(e.target.value)},disabled:!f,className:"dithKernSelect",children:[Object(j.jsx)("option",{value:"FloydSteinberg",children:"Floyd-Steinberg"}),Object(j.jsx)("option",{value:"FalseFloydSteinberg",children:"False Floyd-Steinberg"}),Object(j.jsx)("option",{value:"Stucki",children:"Stucki"}),Object(j.jsx)("option",{value:"Atkinson",children:"Atkinson"}),Object(j.jsx)("option",{value:"Jarvis",children:"Jarvis"}),Object(j.jsx)("option",{value:"Burkes",children:"Burkes"}),Object(j.jsx)("option",{value:"Sierra",children:"Sierra"}),Object(j.jsx)("option",{value:"TwoSierra",children:"2-row Sierra"}),Object(j.jsx)("option",{value:"SierraLite",children:"Sierra Lite"})]}),"dithering"]}),Object(j.jsx)("p",{children:"Input image:"}),Object(j.jsx)("div",{className:"inputCanvasContainer",children:Object(j.jsx)("canvas",{ref:H,children:Object(j.jsx)("p",{children:"Your browser needs to support HTML5 canvas to use this tool. Please upgrade or use a different browser."})})}),i?Object(j.jsx)("p",{children:"Rendering..."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Palette:"}),Object(j.jsx)(m,{palette:P}),Object(j.jsx)("p",{children:"Reduced image (".concat(U,"x").concat(F,"@").concat(d,"bpp (").concat(Math.pow(2,d)," colors)):")}),Object(j.jsx)("a",{href:B,target:"_blank",rel:"noreferrer",title:"Open in new tab",children:Object(j.jsx)("img",{src:B,className:"outputImage",alt:"Output"})})]})]})}var f=a(11),S=a.n(f),C=a(18),k=a.n(C);function w(e){var t=e.imageMetadata,a=c.a.useState(!1),n=Object(s.a)(a,2),r=n[0],i=n[1],o=c.a.useState("image"),l=Object(s.a)(o,2),u=l[0],d=l[1],b=c.a.useState("// Upload an image"),h=Object(s.a)(b,2),p=h[0],x=h[1],m=c.a.useState(S.a.highlight("// Upload an image",{language:"c"}).value),v=Object(s.a)(m,2),f=v[0],C=v[1],k=c.a.useState("knr"),w=Object(s.a)(k,2),I=w[0],y=w[1],N=c.a.useState(!1),F=Object(s.a)(N,2),L=F[0],R=F[1];return c.a.useEffect((function(){i(!0);var e=new g;return(0,O.a(e).GenerateCode)(t,u,I).then((function(e){var t=e.code,a=e.highlightedCode;x(t),C(a),i(!1)})),function(){e.terminate()}}),[t,u,I]),c.a.useEffect((function(){if(L){var e=setTimeout((function(){return R(!1)}),5e3);return function(){return clearTimeout(e)}}}),[L]),Object(j.jsxs)("div",{className:"codeGeneratorContainer",children:[Object(j.jsxs)("label",{children:["Prefix:",Object(j.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsxs)("label",{children:["Indentation style:",Object(j.jsxs)("select",{value:I,onChange:function(e){return y(e.target.value)},children:[Object(j.jsx)("option",{value:"knr",children:"K&R (brackets on same line)"}),Object(j.jsx)("option",{value:"allman",children:"Allman (brackets on next line)"})]})]}),r?Object(j.jsx)("p",{children:"Generating..."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){navigator.clipboard.writeText(p).then((function(){return R(!0)})).catch((function(e){return console.log("Copy failed",e)}))},children:L?"Copied!":"Copy to clipboard"}),Object(j.jsx)("pre",{className:"hljs",children:Object(j.jsx)("code",{className:"language-c",dangerouslySetInnerHTML:{__html:f}})})]})]})}S.a.registerLanguage("c",k.a);var I=function(){var e=c.a.useState(null),t=Object(s.a)(e,2),a=t[0],n=t[1],r=c.a.useState(null),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(j.jsxs)("div",{className:"columns",children:[Object(j.jsx)("div",{children:Object(j.jsx)(d,{onChange:function(e){return n(e)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(v,{imageURL:a,onChange:function(e){return l(e)}})}),Object(j.jsx)("div",{children:Object(j.jsx)(w,{imageMetadata:o})})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.fc57070d.chunk.js.map